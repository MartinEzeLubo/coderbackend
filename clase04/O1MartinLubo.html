<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clase 04 - Entrega 1</title>
</head>
<body>
    <h1>Ingrese un texto</h1>
    <input type="text" name="" id="cuadrodetexto">
    <label id="textoinvertido" for=""></label>
</body>
</html>
<script src="https://cdnjs.cloudflare.com/ajax/libs/rxjs/6.6.3/rxjs.umd.min.js"></script>
<script defer>

    const {Observable, fromEvent} = rxjs;
    let update;
    let etiqueta;
    let inputtext;

    
    

    function iniciar(){
        etiqueta = document.getElementById("textoinvertido");
        inputtext = document.getElementById("cuadrodetexto");
        writeDetection = fromEvent(document.getElementById("cuadrodetexto"), "keyup");
        
    };
    
    document.addEventListener("DOMContentLoaded", iniciar(), false);
    
    
    function reverseText(text){
        return (text === '') ? '' : reverseText(text.substr(1)) + text.charAt(0);
    }
    
    
    let subscripcion = writeDetection.subscribe({
        next: (e) => {
            etiqueta.innerText = reverseText(inputtext.value);
        }
    })
    
    setTimeout(()=>{
        subscripcion.unsubscribe(); 
        console.log('Time Out');
    },30000);
    



    // function updateText(texto) {
    //     let text = reverseText(texto);
    //     etiqueta.innerText = text;
        
    // }
    // function subscribible(){
    //     return new Observable(suscriber => {
    //         setInterval(()=> {
    //             suscriber.next(reverseText(inputtext.value));
    //         },500)
    //     })

    // }

    // let suscripcion = subscribible().subscribe((data) => {
    //     console.log(data);
    //     etiqueta.innerText = data;
    //     setTimeout(suscripcion.unsubscribe(), 30000)
    // }); 
    
    

    </script>


